{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Pavilion\\\\Desktop\\\\ITSolutions\\\\Constructions\\\\client\\\\src\\\\components\\\\Product.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Button, Card, Modal } from 'react-bootstrap';\nimport { DeleteForeverOutlined, ShoppingCartOutlined } from '@mui/icons-material';\nimport './Product.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Product = ({\n  product,\n  retriggerRefresh\n}) => {\n  _s();\n  const [showModal, setShowModal] = useState(false);\n  const handleCloseModal = () => {\n    setShowModal(false);\n  };\n  const handleShowModal = () => {\n    setShowModal(true);\n  };\n  const handleDeleteConfirmation = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/product/${product.productId}`, {\n        method: 'DELETE',\n        headers: {\n          token: localStorage.getItem('token'),\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      if (response.ok) {\n        // Închide modalul și actualizează lista de produse\n        setShowModal(false);\n        retriggerRefresh(); // Apelăm funcția retriggerRefresh\n      } else {\n        const data = await response.json();\n        console.error(\"Eroare:\", data);\n      }\n    } catch (error) {\n      console.error(\"Eroare la ștergerea produsului:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"my-3 p-3 rounded product-card shadow\",\n    children: [/*#__PURE__*/_jsxDEV(Card.Body, {\n      children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n        children: product.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        children: product.desc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n        children: [product.price, \" lei\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(DeleteForeverOutlined, {\n        onClick: handleShowModal,\n        color: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        style: {\n          backgroundColor: 'darkred',\n          color: 'white'\n        },\n        children: /*#__PURE__*/_jsxDEV(ShoppingCartOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showModal,\n      onHide: handleCloseModal,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Stergere Produs\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [\"Chiar dori\\u021Bi s\\u0103 \\u0219terge\\u021Bi produsul \", product.title, \"?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: handleCloseModal,\n          children: \"NU\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"danger\",\n          onClick: handleDeleteConfirmation,\n          children: \"DA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n_s(Product, \"uVlnG5KLfXemZk5i5Fl+Cg356FU=\");\n_c = Product;\nexport default Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","useState","Button","Card","Modal","DeleteForeverOutlined","ShoppingCartOutlined","jsxDEV","_jsxDEV","Product","product","retriggerRefresh","_s","showModal","setShowModal","handleCloseModal","handleShowModal","handleDeleteConfirmation","response","fetch","productId","method","headers","token","localStorage","getItem","ok","data","json","console","error","className","children","Body","Title","title","fileName","_jsxFileName","lineNumber","columnNumber","Text","desc","price","onClick","color","style","backgroundColor","show","onHide","Header","closeButton","Footer","variant","_c","$RefreshReg$"],"sources":["C:/Users/Pavilion/Desktop/ITSolutions/Constructions/client/src/components/Product.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, Card, Modal } from 'react-bootstrap';\nimport { DeleteForeverOutlined, ShoppingCartOutlined } from '@mui/icons-material';\nimport './Product.css'; \n\nconst Product = ({ product, retriggerRefresh }) => {\n    const [showModal, setShowModal] = useState(false);\n\n    const handleCloseModal = () => {\n        setShowModal(false);\n    };\n\n    const handleShowModal = () => {\n        setShowModal(true);\n    };\n\n    const handleDeleteConfirmation = async () => {\n        try {\n            const response = await fetch(`http://localhost:8080/product/${product.productId}`, {\n                method: 'DELETE',\n                headers: {\n                    token: localStorage.getItem('token'),\n                    \"Content-Type\": \"application/json\",\n                }\n            });\n\n            if (response.ok) {\n                // Închide modalul și actualizează lista de produse\n                setShowModal(false);\n                retriggerRefresh();  // Apelăm funcția retriggerRefresh\n            } else {\n                const data = await response.json();\n                console.error(\"Eroare:\", data);\n            }\n        } catch (error) {\n            console.error(\"Eroare la ștergerea produsului:\", error);\n        }\n    };\n\n    return (\n        <Card className=\"my-3 p-3 rounded product-card shadow\">\n            <Card.Body>\n                <Card.Title>{product.title}</Card.Title>\n                <Card.Text>{product.desc}</Card.Text>\n                <Card.Text>{product.price} lei</Card.Text>\n                <DeleteForeverOutlined onClick={handleShowModal} color=\"secondary\" />\n                <Button style={{ backgroundColor: 'darkred', color: 'white' }}>\n                    <ShoppingCartOutlined />\n                </Button>\n            </Card.Body>\n\n            {/* Modalul de confirmare pentru ștergerea produsului */}\n            <Modal show={showModal} onHide={handleCloseModal}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Stergere Produs</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    Chiar doriți să ștergeți produsul {product.title}?\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant=\"secondary\" onClick={handleCloseModal}>NU</Button>\n                    <Button variant=\"danger\" onClick={handleDeleteConfirmation}>DA</Button>\n                </Modal.Footer>\n            </Modal>\n        </Card>\n    );\n};\n\nexport default Product;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}